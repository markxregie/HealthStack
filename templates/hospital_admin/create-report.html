{%load static%}
<!DOCTYPE html>
<html lang="en">
    
<!-- Mirrored from dreamguys.co.in/demo/doccure/admin/doctor-list.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 30 Nov 2019 04:12:51 GMT -->
<head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
        <title>HealthStack</title>

    	<!-- Favicon -->

    	<link rel="shortcut icon" type="image/x-icon" href="{% static 'HealthStack-System/images/Normal/favicon.png' %}"/>

		<!-- Bootstrap CSS -->
        <link rel="stylesheet" href="{% static 'HealthStack-System/css/admin/bootstrap.min.css'%}">
        
		
		<!-- Fontawesome CSS -->
        <link rel="stylesheet" href="{% static 'HealthStack-System/plugins/Normal/fontawesome/css/fontawesome.min.css' %}"/>
        <link rel="stylesheet" href="{% static 'HealthStack-System/plugins/Normal/fontawesome/css/all.min.css' %}"/>
		
		<!-- Feathericon CSS -->
        <link rel="stylesheet" href="{% static 'HealthStack-System/admin_assets/css/feathericon.min.css'%}">
		
		<!-- Datatables CSS -->
		    <link rel="stylesheet" href="{% static 'HealthStack-System/plugins/admin/datatables/datatables.min.css'%}"> 
		
		<!-- Main CSS -->
        <link rel="stylesheet" href="{% static 'HealthStack-System/css/admin/style.css'%}"> 
		
		<!--[if lt IE 9]>
			<script src="assets/js/html5shiv.min.js"></script>
			<script src="assets/js/respond.min.js"></script>
		<![endif]-->
    <style>
      :root {
        --primary-color: #95C270;   /* Green */
        --hover-bg-color: #e6f0c8;  /* Light green hover */
        --text-color: #333333;      /* Default dark text */
        --heading-color: #222222;   /* Darker titles */
        --delete-color: #dc3545;    /* Bootstrap red */
        --delete-hover: #a71d2a;    /* Darker red on hover */
      }

      /* Default text colors */
      body, .content, .page-wrapper, .breadcrumb, .breadcrumb-title,
      .card-body, .form-group label, table, td, th {
        color: var(--text-color) !important;
      }

      h1, h2, h3, h4, h5, h6 {
        color: var(--heading-color) !important;
      }

      /* Buttons (default green) */
      button,
      .btn {
        background-color: var(--primary-color) !important;
        border-color: var(--primary-color) !important;
        color: #fff !important;
        transition: background 0.3s;
      }

      button:hover,
      .btn:hover {
        background-color: var(--hover-bg-color) !important;
        color: var(--text-color) !important;
      }

      /* Delete button override */
      .btn-danger,
      button.btn-danger {
        background-color: var(--delete-color) !important;
        border-color: var(--delete-color) !important;
        color: #fff !important;
      }

      .btn-danger:hover,
      button.btn-danger:hover {
        background-color: var(--delete-hover) !important;
        border-color: var(--delete-hover) !important;
        color: #fff !important;
      }

      /* Links */
      a {
        color: var(--primary-color);
      }

      a:hover {
        color: var(--heading-color);
        background-color: var(--hover-bg-color);
        border-radius: 6px;
      }

      /* Card headers */
      .card-title,
      .card-header h4,
      .card-header p {
        color: var(--heading-color) !important;
      }

      /* Breadcrumb active */
      .breadcrumb .active {
        color: var(--primary-color) !important;
      }

      /* Make the main content container scrollable */
      .call-content-full {
        max-height: 80vh;
        overflow-y: auto;
        padding: 20px;
      }

      /* Ensure cards have proper spacing */
      .card {
        margin-bottom: 20px;
      }

      /* Make form sections more spacious */
      .form-group {
        margin-bottom: 15px;
      }

      /* Add some padding to the main container */
      .container-lg {
        padding: 20px;
      }
      
      /* Make card body longer horizontally */
      .card-body {
        width: 100%;
        max-width: none;
      }
      
      .card-table .card-body {
        width: 100%;
      }
      
      /* Make Delivery Date and Additional Information widgets longer horizontally */
      .card-table .table-responsive {
        width: 100%;
      }
      
      .card-table table {
        width: 100%;
      }
      
      .card-table th[style*="min-width: 300px"],
      .card-table td {
        width: 100%;
      }
      
      .card-table input.form-control {
        width: 100%;
        max-width: none;
      }
      
      .submit-section {
        margin-top: 30px;
        padding: 20px;
        text-align: center;
        width: 100%;
      }

      /* Make Specimen Information form controls smaller */
      .specimen-info .form-control {
        padding: 0.375rem 0.5rem;
        font-size: 0.875rem;
        height: calc(1.5em + 0.75rem);
      }
      
      .specimen-info select.form-control {
        padding-right: 1.5rem;
      }
      
      .specimen-info .form-group {
        margin-bottom: 0.75rem;
      }
      
      .specimen-info label {
        font-size: 0.875rem;
        margin-bottom: 0.25rem;
      }

      /* Ensure test information containers have proper spacing */
      .test-info-container {
        margin-bottom: 20px;
      }
      
      .test-cont {
        border-bottom: 1px solid #eee;
        padding-bottom: 15px;
        margin-bottom: 15px;
      }
      
      .test-cont:last-child {
        border-bottom: none;
        margin-bottom: 0;
      }
      </style>
    </head>
    <body>
    <!-- Main Wrapper -->
    <div class="main-wrapper">
      <!-- Header -->
			<header class="header">{% include 'hospital_admin/labworker-navbar.html' %}</header>            
			<!-- /Header -->
			
			<!-- Sidebar -->
			<aside class="sidebar" id="sidebar">
				{% include 'hospital_admin/labworker-sidebar.html' %} </aside>
			<!-- /Sidebar -->
			
			<!-- Page Wrapper -->
            <div class="page-wrapper">

                <div class="content container-fluid">

<!-- Breadcrumb -->
			<div class="breadcrumb-bar">
				<div class="container-fluid">
					<div class="row align-items-center">
						<div class="col-md-12 col-12">
							<nav aria-label="breadcrumb" class="page-breadcrumb">
								<ol class="breadcrumb">
									<li class="breadcrumb-item"><a href="index-2.html">Home</a></li>
									<li class="breadcrumb-item active" aria-current="page">Create Report</li>
								</ol>
							</nav>
							<h2 class="breadcrumb-title">Create Report </h2>
						</div>
					</div>
				</div>
			</div>
			<!-- /Breadcrumb -->
			
			<!-- Page Content -->
			<div class="call-content-full">
				<div class="container-lg">
					<div class="row-cols-6">
						<div class="col-md-7 col-lg-8 col-xl-12">
							<div class="card">
								<div class="card-body">
									
									<!-- Profile Settings Form -->
                                    <form action="#" method="POST" enctype="multipart/form-data">
                                    {% csrf_token %}
                                    
                                    <div class="row form-row">
                                      <div class="col-12 col-md-12">
                                        <div class="form-group">
                                            <div class="change-avatar"></div>
                                        </div>
                                        
							<!-- /specimen -->
										<div class="card card-table">
											<div class="card-body">
                        <h4 class="card-title">Specimen Information</h4>
                        <div class="specimen-info">
                          {% for s in specimens %}
                          <div class="row form-row specimen-cont">
                                                     
                                <div class="col-12 col-md-9 col-lg-10">
                                  <div class="row form-row">
                                    
                                    <div class="col-12 col-md-4 col-lg-3">
                                        <div class="form-group">
                                            <label> Specimen Type</label>
                                            <select class="form-control" name="specimen_type" required>
                                                <option value="">Select Specimen Type</option>
                                                {% for specimen_type in specimen_types %}
                                                <option value="{{ specimen_type }}" {% if specimen_type == s.specimen_type %}selected{% endif %}>{{ specimen_type }}</option>
                                                {% endfor %}
                                            </select>
                                        </div> 
                                    </div>

                                    <div class="col-12 col-md-4 col-lg-3">
                                        <div class="form-group">
                                            <label>Collection Date</label>
                                            <input type="date" class="form-control" name="collection_date" value="{{ s.collection_date }}">
                                        </div> 
                                    </div>

                                    <div class="col-12 col-md-4 col-lg-3">
                                        <div class="form-group">
                                            <label>Receiving Date</label>
                                            <input type="date" class="form-control" name="receiving_date" value="{{ s.receiving_date }}">
                                        </div> 
                                    </div>

                                  </div>
                                </div>
                                <div class="col-12 col-md-3 col-lg-2">
                                  <label class="d-md-block d-sm-none d-none">&nbsp;</label>
                                  <a href="#" class="btn btn-danger trash">
                                    <i class="far fa-trash-alt"></i>
                                  </a>
                                </div>

                          </div>
                          {% endfor %}
                        </div>
                        <div class="add-more">
                          <a href="javascript:void(0);" class="add-specimen"><i class="fa fa-plus-circle"></i> Add Specimen</a>
                        </div>
                      </div>
                    </div>
                        
                                    
							<!-- /specimen -->

                            	<!-- /Test -->

                                        <div class="card card-table">
                                            <div class="card-body">
                                                <h4 class="card-title">Test Information</h4>
                                                <div class="test-info">
                                                    <!-- Test Information - Horizontal Layout -->
                                                    <div class="test-info-container">
                                                            <div class="row form-row test-cont" style="margin-bottom: 15px;">
                                                                <div class="col-12 col-md-2">
                                                                    <div class="form-group">
                                                                        <label>Test Name</label>
                                                                        <select class="form-control test-list-select" name="test_name[]" required>
                                                                            <option value="">Select Test Name</option>
                                                                            {% for test in test_names %}
                                                                            <option value="{{ test.test_name }}" data-test-id="{{ test.test_id }}">
                                                                                {{ test.test_name }}
                                                                            </option>
                                                                            {% endfor %}
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                                <div class="col-12 col-md-2">
                                                                    <div class="form-group">
                                                                        <label>Result</label>
                                                                        <input type="text" name="result[]" class="form-control" required>
                                                                    </div>
                                                                </div>
                                                                <div class="col-12 col-md-2">
                                                                    <div class="form-group">
                                                                        <label>Unit</label>
                                                                        <input type="text" name="unit[]" class="form-control">
                                                                    </div>
                                                                </div>
                                                                <div class="col-12 col-md-2">
                                                                    <div class="form-group">
                                                                        <label>Referred Value</label>
                                                                        <input type="text" name="referred_value[]" class="form-control">
                                                                    </div>
                                                                </div>
                                                                <div class="col-12 col-md-2">
                                                                    <div class="form-group">
                                                                        <label class="d-md-block d-sm-none d-none">&nbsp;</label>
                                                                        <a href="#" class="btn btn-danger trash remove-test">
                                                                            <i class="far fa-trash-alt"></i> Delete
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                    </div>
                                                    <div class="add-more">
                                                        <a href="javascript:void(0);" class="add-test"><i class="fa fa-plus-circle"></i> Add Test</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        </div>
                                        <!-- /Test -->


                                        <div class="card card-table">
                                            <div class="card-body">
                                              <div class="table-responsive">
                                                <table class="table table-hover table-center">
                                                  <thead>
                                                    <tr>
                                                      <th style="min-width: 300px">Delivery Date</th>
                                                      <th style="min-width: 50px;"></th>
                                                    </tr>
                                                  </thead>
                                                  <tbody>
                                                    <tr>
                                                      <td>
                                                        <input class="form-control" type="date" name="delivery_date">
                                                      </td>
                                                    </tr>
                                                  </tbody>
                                                </table>
                                              </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card card-table">
                          <div class="card-body">
                            <div class="table-responsive">
                              <table class="table table-hover table-center">
                                <thead>
                                  <tr>
                                    <th style="min-width: 300px">Additional Information</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr>
                                    <td>
                                      <input class="form-control" type="text" name="other_information" id="other_information" >
                                    </td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>

                        <div class="submit-section">
                            <button type="submit" class="btn btn-primary submit-btn">
                                Save Changes
                            </button>
                        </div>
                    </div>
                </form>
									<!-- /Profile Settings Form -->
									
								</div>
							</div>
						</div>
					</div>
				</div>

			</div>		
			<!-- /Page Content -->
				</div>			
			      </div>
      		
			<!-- /Page Wrapper -->
		
        </div>
		<!-- /Main Wrapper -->
		

		<!-- jQuery -->
    <script src="{% static 'HealthStack-System/js/admin/jquery-3.2.1.min.js' %}"></script>

		<!-- Bootstrap Core JS -->
    <script src="{% static 'HealthStack-System/js/admin/popper.min.js' %}"></script> 
    <script src="{% static 'HealthStack-System/js/admin/bootstrap.min.js' %}"></script>

    <!-- Slimscroll JS -->
    <script src="{% static 'HealthStack-System/plugins/admin/slimscroll/jquery.slimscroll.min.js' %}"></script>
	
    <!-- Initialize testNames and specimenTypes variables from Django context -->
    <script>
        // Debug: Check what test_names_json renders to
        console.log("Raw test_names_json:", "{{ test_names_json|safe }}");
        try {
            var testNames = JSON.parse('{{ test_names_json|safe }}');
            console.log("Parsed Test Names:", testNames);
        } catch (e) {
            console.error("Error parsing test_names_json:", e);
            var testNames = [];
        }
        if (!testNames || testNames.length === 0) {
            testNames = [];
        }
        console.log("Final Test Names:", testNames);

        // Initialize specimenTypes from Django context
        var specimenTypes = [
            'Blood',
            'Urine',
            'Saliva',
            'Sputum',
            'Stool (Feces)',
            'Tissue Biopsy',
            'Cerebrospinal Fluid (CSF)',
            'Semen',
            'Vaginal Swab',
            'Nasal Swab',
            'Throat Swab',
            'Amniotic Fluid',
            'Pleural Fluid',
            'Synovial Fluid (Joint Fluid)',
            'Bone Marrow',
            'Other (Specify)'
        ];
        console.log("Specimen Types:", specimenTypes);

        // Initialize global variables for the report-settings-simple.js file
        window.testNames = JSON.parse('{{ test_names_json|safe }}' || '[]');
        window.specimenTypes = [
            'Blood',
            'Urine',
            'Saliva',
            'Sputum',
            'Stool (Feces)',
            'Tissue Biopsy',
            'Cerebrospinal Fluid (CSF)',
            'Semen',
            'Vaginal Swab',
            'Nasal Swab',
            'Throat Swab',
            'Amniotic Fluid',
            'Pleural Fluid',
            'Synovial Fluid (Joint Fluid)',
            'Bone Marrow',
            'Other (Specify)'
        ];
    </script>

		<!-- Report Settings JS -->
    <script src="{% static 'HealthStack-System/js/Normal/report-settings-simple.js' %}"></script>

		<!-- Datatables JS -->
		<script src="{% static 'HealthStack-System/plugins/admin/datatables/jquery.dataTables.min.js'%}"></script> 
		<script src="{% static 'HealthStack-System/plugins/admin/datatables/datatables.min.js'%}"></script>
		
		<!-- Custom JS -->
		<script src="{% static 'HealthStack-System/js/admin/script.js' %}"></script>
		
    <script>
        var x = document.getElementById('CredentialCheck');
        if (x && x.style.display === "none") {
            x.style.display = "block";
        }
        if ($('#CredentialCheck').length) {
            $('#CredentialCheck').delay(4000).fadeOut('slow');
        }
    </script>
		
	</body>

<!-- Mirrored from dreamguys.co.in/demo/doccure/admin/doctor-list.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 30 Nov 2019 04:12:51 GMT -->
</html>c